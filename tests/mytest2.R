app <- ShinyDriver$new("../")
app$snapshotInit("mytest2")

defaultTimeout = 20000
defaultWait = 10
snNr = 1

app$setInputs(sidebarCollapsed = FALSE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(sidebarItemExpanded = "Parametes")
app$setInputs(clusterSource = "normData")
app$uploadFile(file1 = "../scEx.Rds") # <-- This should be the path to the file, relative to the app's tests/ directory
Sys.sleep(240)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(goCalc = "click")
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(sidebarItemExpanded = "Co-expression")
app$setInputs(`coExpHeatmapModule-pHeatMapPlot__shinyjquiBookmarkState__resizable` = c(571, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`coExpHeatmapModule-pHeatMapPlot_size` = c(571, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`coExpHeatmapModule-pHeatMapPlot_is_resizing` = FALSE, allowInputNoBinding_ = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(`coE_heatmapSelectedModule-pHeatMapPlot__shinyjquiBookmarkState__resizable` = c(691, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`coE_heatmapSelectedModule-pHeatMapPlot_size` = c(691, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`coE_heatmapSelectedModule-pHeatMapPlot_is_resizing` = FALSE, allowInputNoBinding_ = TRUE)
app$setInputs(`coE_selected-clusterPlot__shinyjquiBookmarkState__resizable` = c(691, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`coE_selected-clusterPlot_size` = c(691, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`coE_selected-clusterPlot_is_resizing` = FALSE, allowInputNoBinding_ = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(`coE_topExpGenes-cellNameTable_rows_current` = c(1, 2, 3, 4, 5, 6, 7, 8), allowInputNoBinding_ = TRUE)
app$setInputs(`coE_topExpGenes-cellNameTable_rows_all` = c(1, 2, 3, 4, 5, 6, 7, 8), allowInputNoBinding_ = TRUE)
app$setInputs(coE_geneGrp_vio_plot__shinyjquiBookmarkState__resizable = c(757, 400), allowInputNoBinding_ = TRUE)
app$setInputs(coE_geneGrp_vio_plot_size = c(757, 400), allowInputNoBinding_ = TRUE)
app$setInputs(coE_geneGrp_vio_plot_is_resizing = FALSE, allowInputNoBinding_ = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(coE_showPermutations = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(coEminExpr = 2)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(coE_dimension_xVioiGrp = "dbCluster", timeout_=defaultTimeout, wait_=FALSE, values_=FALSE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(`coE_heatmapSOM-pHeatMapPlot__shinyjquiBookmarkState__resizable` = c(571, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`coE_heatmapSOM-pHeatMapPlot_size` = c(571, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`coE_heatmapSOM-pHeatMapPlot_is_resizing` = FALSE, allowInputNoBinding_ = TRUE)
app$setInputs(coE_dimSOM = 2)
Sys.sleep(40)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(sidebarItemExpanded = "DataExploration")
app$setInputs(DE_tsne_plt__shinyjquiBookmarkState__resizable = c(364, 400), allowInputNoBinding_ = TRUE)
app$setInputs(DE_tsne_plt_size = c(364, 400), allowInputNoBinding_ = TRUE)
app$setInputs(DE_tsne_plt_is_resizing = FALSE, allowInputNoBinding_ = TRUE)
app$setInputs(`DE_expclusters-clusterPlot__shinyjquiBookmarkState__resizable` = c(331, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`DE_expclusters-clusterPlot_size` = c(331, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`DE_expclusters-clusterPlot_is_resizing` = FALSE, allowInputNoBinding_ = TRUE)
app$setInputs(`.clientValue-plotly_hover-A` = character(0), allowInputNoBinding_ = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(DE_panelPlot__shinyjquiBookmarkState__resizable = c(757, 400), allowInputNoBinding_ = TRUE)
app$setInputs(DE_panelPlot_size = c(757, 400), allowInputNoBinding_ = TRUE)
app$setInputs(DE_panelPlot_is_resizing = FALSE, allowInputNoBinding_ = TRUE)
app$setInputs(`.clientValue-plotly_hover-A` = "[{\"curveNumber\":0,\"pointNumber\":20,\"x\":2.64568268460935,\"y\":4.54108366673219,\"z\":6.49448281059009}]", allowInputNoBinding_ = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(sidebarItemExpanded = "DummyTools")
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(sidebarItemExpanded = "GeneralQC")
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(gQC_tsne_main__shinyjquiBookmarkState__resizable = c(757, 400), allowInputNoBinding_ = TRUE)
app$setInputs(gQC_tsne_main_size = c(757, 400), allowInputNoBinding_ = TRUE)
app$setInputs(gQC_tsne_main_is_resizing = FALSE, allowInputNoBinding_ = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(`gQC_umap_main-clusterPlot__shinyjquiBookmarkState__resizable` = c(691, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`gQC_umap_main-clusterPlot_size` = c(691, 400), allowInputNoBinding_ = TRUE)
app$setInputs(`gQC_umap_main-clusterPlot_is_resizing` = FALSE, allowInputNoBinding_ = TRUE)
app$setInputs(`.clientValue-plotly_hover-A` = "[{\"curveNumber\":1,\"pointNumber\":1,\"x\":9.21113915725643,\"y\":6.93971446283472,\"z\":12.5637512336168}]", allowInputNoBinding_ = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(activateUMAP = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(sidebarItemExpanded = "Subclusteranalysis")
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
app$setInputs(db1 = c(-10.934965950876, -4.4526352581367, -4.4382504555547, 6.0794740117957, 49, 144, 54, 249, 49, 144, 54, 249, 1, 1, "dbCluster", "tsne1", "tsne2", -11.2438694409295, 10.1851871857415, -10.1840050933315, 7.75512967979502, 44.4729505565069, 358.520547945206, 355.527049443493, 22.9331227230572, character(0), character(0), "xy", "db1", "sCA_dge_plot1"), allowInputNoBinding_ = TRUE)
app$setInputs(db2 = c(0.97205200578714, 10.185187185741, -7.9441586113382, 5.7558517204926, 223.5, 358.520547945206, 60, 314, 223.5, 358.520547945206, 60, 314, 1, 1, "dbCluster", "tsne1", "tsne2", -11.2438694409295, 10.1851871857415, -10.1840050933315, 7.75512967979502, 44.4729505565069, 358.520547945206, 355.527049443493, 22.9331227230572, character(0), character(0), "xy", "db2", "sCA_dge_plot2"), allowInputNoBinding_ = TRUE)
cat(file = stderr(), paste("snapshop", snNr, "\n")); snNr=snNr+1;app$snapshot()
